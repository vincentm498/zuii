@use "sass:color";

/**
 * Mixin pour le style de survol (hover/focus) des items de menu.
 * Uniformise le design entre Dropdown, ContextMenu, etc.
 */
@mixin menu-item-hover {

	&:hover,
	&:focus,
	&.active,
	&:active {
		background-color: color-mix(in srgb, var(--primary), var(--white) 90%);
		color: color-mix(in srgb, var(--secondary), var(--dark) 10%);
		outline: none;
		text-decoration: none;
	}
}

/**
 * Mixin pour la structure de base d'un item de menu.
 */
@mixin menu-item-base {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 0.5rem;
	padding: 6px 8px;
	font-size: 0.875rem;
	cursor: pointer;
	user-select: none;
	transition: background-color 0.1s, color 0.1s;

	@include menu-item-hover;

	&.disabled,
	&:disabled {
		opacity: 0.3;
		cursor: not-allowed;
		color: initial;
		background: transparent;
	}

	&.active,
	&:active {
		background-color: color-mix(in srgb, var(--secondary), var(--white) 70%);
		color: color-mix(in srgb, var(--secondary), var(--dark) 20%);
	}

	&:first-child {
		border-top-left-radius: var(--menu-border-radius, var(--radius-sm, 0.375rem));
		border-top-right-radius: var(--menu-border-radius, var(--radius-sm, 0.375rem));
	}

	&:last-child {
		border-bottom-left-radius: var(--menu-border-radius, var(--radius-sm, 0.375rem));
		border-bottom-right-radius: var(--menu-border-radius, var(--radius-sm, 0.375rem));
	}
}
